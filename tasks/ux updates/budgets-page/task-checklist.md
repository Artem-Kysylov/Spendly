# Чеклист: Страница конкретного бюджета (Desktop + Mobile)

## Цели
- [ ] Разделить UI для мобильной (< md) и десктопной (>= md) версий.
- [x] Перенести меню “Три точки” (Редактировать, Удалить) в хедер на обеих платформах.
- [ ] На мобильной версии скрыть форму добавления транзакции и заменить на кнопку, открывающую глобальную модалку с предзаполненным бюджетом.

## Адаптивное поведение
- [ ] Подтвердить брейкпоинт `md` из `tailwind.config.ts` и использовать его как порог.
- [ ] Разделить разметку/условный рендер: мобильный (< md) и десктоп (>= md).
- [ ] Проверить стили, чтобы не было “скачков” при смене размеров.

## Мобильная версия (< md)
- [ ] Скрыть форму добавления транзакции на странице бюджета.
- [ ] Добавить кнопку “Добавить трату в этот бюджет”.
- [ ] Кнопка открывает глобальную модалку “Новая транзакция” с предзаполненным полем “Бюджет” (текущий).
- [x] Хедер: добавить кнопку “Назад”.
- [x] Хедер: добавить меню “Три точки” (Dropdown) с пунктами:
  - [x] “Редактировать” (открыть форму/модалку редактирования бюджета).
  - [x] “Удалить” (диалог подтверждения, обработка ошибок, перенаправление после удаления).

## Десктопная версия (>= md)
- [ ] Оставить форму добавления транзакции справа (сайд-панель), список транзакций слева.
- [x] Добавить меню “Три точки” в хедере страницы (аналогично мобильному).
- [x] Обеспечить одинаковую логику пунктов “Редактировать” и “Удалить” как на мобилке.

## Глобальная модалка “Новая транзакция”
- [ ] При открытии из страницы бюджета предзаполнять “Бюджет” текущим значением.
- [ ] После успешного добавления:
  - [ ] Обновлять список транзакций.
  - [ ] Обновлять прогресс/сводку бюджета.
- [ ] Обработать ошибки сохранения и показывать уведомления.

## Навигация
- [x] Кнопка “Назад” возвращает к списку бюджетов (или предыдущей странице).
- [ ] Проверить корректность роутов при переходах между мобильной/десктопной раскладками.

## Локализация
- [ ] Добавить/проверить ключи для:
  - [ ] “Добавить трату в этот бюджет”
  - [ ] “Редактировать”
  - [ ] “Удалить”
  - [ ] “Назад”
- [ ] Обновить соответствующие файлы `src/locales/*.json`.

## Доступность (a11y)
- [ ] Фокус-стейты для кнопок и меню.
- [ ] Клавиатурная навигация: открыть/закрыть дропдаун, выбрать пункт.
- [ ] ARIA-атрибуты для модалки и меню.

## UI состояния
- [ ] Пустой список транзакций: корректный пустой стейт (иллюстрация/текст).
- [ ] Состояние загрузки/ошибки для списка и формы.
- [ ] Визуальная консистентность на двух платформах.

## Инструменты и затронутые области
- [x] Обновить соответствующие компоненты в `src/components/budgets/`.
- [ ] Проверить хуки/стейт-менеджмент, при необходимости использовать/править `src/hooks/useBudgets.tsx`.
- [ ] Перепроверить модалки в `src/components/modals/` (или текущем месте реализации).

## Аналитика/телеметрия (если применяется)
- [ ] Событие открытия меню “Три точки”.
- [ ] Событие “Редактировать бюджет” / “Удалить бюджет”.
- [ ] Событие добавления транзакции через глобальную модалку.

## Тестирование
- [ ] Юнит-тесты: условный рендер (скрытие/показ формы по брейкпоинту).
- [ ] E2E (мобилка): кнопка добавления → модалка → предзаполненный бюджет → сохранение.
- [ ] E2E (десктоп): наличие сайд-панели формы, меню “Три точки” в хедере, редактирование/удаление.
- [ ] Регрессия: существующие функции бюджета и транзакций не ломаются.

## Definition of Done
- [ ] UI разделен по брейкпоинту `md`, соответствует ТЗ.
- [ ] Меню “Три точки” доступно и работает на мобилке и десктопе.
- [ ] Глобальная модалка предзаполняет бюджет и обновляет данные после сохранения.
- [ ] Локализация, a11y и тесты завершены; основные сценарии проходят.